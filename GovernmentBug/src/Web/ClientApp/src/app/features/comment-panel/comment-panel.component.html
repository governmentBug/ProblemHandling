<div class="panel">
  <button class="close-btn" (click)="close()">❮</button>

  <div class="comments-list">
    <div class="comment" *ngFor="let c of comments">
      <div class="icon">
        <img src="assets/user-icon.png" alt="user" />
      </div>
      <div class="text">
        <p>{{ c.commentText }}</p>
        <small>נכתב ע"י {{ c }} בתאריך {{ c.commentDate | date:'dd/MM/yyyy HH:mm' }}</small>
      </div>
      <button *ngIf="isAuthorizedToComment" class="delete-btn" (click)="deleteComment(c.commentID)">🗑️</button>
    </div>
  </div>

  <div class="add-section">
    <ng-container *ngIf="isAuthorizedToComment">
      <div *ngIf="adding" class="add-form">
        <textarea [(ngModel)]="newComment" placeholder="כתוב כאן הערה..."></textarea>
        <div class="actions">
          <button (click)="saveComment()">שמור</button>
          <button (click)="cancelAdd()">ביטול</button>
        </div>
      </div>

      <button *ngIf="!adding" class="add-btn" (click)="openAdd()">➕</button>
    </ng-container>
  </div>
</div>
